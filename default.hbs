<!DOCTYPE html>
<html{{#match @custom.color_scheme "Dark"}} class="theme-dark"{{/match}}{{#match @custom.color_scheme "Light"}} class="theme-light"{{/match}} lang="{{@site.locale}}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{meta_title}}</title>
    <link rel="stylesheet" href="{{asset "built/screen.css"}}">

    <style>
        /* Publication icon shape styles */
        .cover-icon-image {
            {{#match @custom.icon_shape "=" "Circle"}}
                border-radius: 50%;
            {{else match @custom.icon_shape "=" "Rounded Square"}}
                border-radius: 15%;
            {{else match @custom.icon_shape "=" "Diamond"}}
                border-radius: 0;
                transform: rotate(45deg);
                overflow: hidden;
            {{else match @custom.icon_shape "=" "Hexagon"}}
                border-radius: 0;
                clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
            {{else}}
                border-radius: 0;
            {{/match}}
            object-fit: cover;
            transition: all 0.3s ease;
        }

        /* Publication icon alignment styles */
        .cover-icon.icon-left {
            display: flex;
            justify-content: flex-start;
        }

        .cover-icon.icon-center {
            display: flex;
            justify-content: center;
        }

        .cover-icon.icon-right {
            display: flex;
            justify-content: flex-end;
        }
        
        {{#match @custom.icon_shape "=" "Diamond"}}
        .cover-icon {
            overflow: hidden;
        }
        .cover-icon-image {
            transform: rotate(45deg) scale(1.4);
        }
        {{/match}}

        /* Responsive font size adjustments for mobile */
        @media (max-width: 767px) {
            .feed-title {
                font-size: {{#match @custom.feed_title_size "=" "Extra Large (2.4rem)"}}1.8rem{{else match @custom.feed_title_size "=" "Large (2.0rem)"}}1.6rem{{/match}} !important;
            }
            .featured-wrapper .post-title {
                font-size: {{#match @custom.featured_title_size "=" "Extra Large (2.6rem)"}}2.0rem{{else match @custom.featured_title_size "=" "Large (2.2rem)"}}1.8rem{{/match}} !important;
            }
            .single-title {
                font-size: {{#match @custom.single_title_size "=" "Extra Large (6.4rem)"}}3.2rem{{else match @custom.single_title_size "=" "Large (5.2rem)"}}3.0rem{{/match}} !important;
            }
        }

        /* Custom footer styles */
        .gh-foot {
            margin-top: auto;
            padding: 2rem 0;
        }
        
        .gh-foot-inner {
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
            text-align: center !important;
        }
        
        .gh-foot .gh-copyright {
            text-align: center !important;
            width: 100% !important;
            margin: 0 !important;
            padding: 0 !important;
            font-weight: 300;
            letter-spacing: 0.5px;
            opacity: 0.8;
            color: var(--color-secondary-text, #999);
            display: block !important;
        }

        /* Frontpage About Section - Minimal styling that inherits theme design */
        .frontpage-about {
            padding: 2rem 0 0 0;
        }

        .frontpage-about-content {
            max-width: 720px;
            margin: 0 auto;
        }

        .frontpage-about-content.text-left {
            text-align: left;
        }

        .frontpage-about-content.text-center {
            text-align: center;
        }

        .frontpage-about-content.text-right {
            text-align: right;
        }

        .site-description {
            font-size: 1.2rem;
            line-height: 1.6;
            color: var(--color-secondary-text, #999);
        }

        @media (max-width: 767px) {
            .frontpage-about {
                padding: 1.5rem 0 0 0;
            }
        }
    </style>

    {{ghost_head}}
</head>

<body class='{{body_class}}{{{block "body_class"}}} is-head-{{#match @custom.navigation_layout "Logo on the left"}}left-logo{{else match @custom.navigation_layout "Logo in the middle"}}middle-logo{{else}}stacked{{/match}}{{#match @custom.title_font "=" "Elegant serif"}} has-serif-title{{/match}}{{#match @custom.body_font "=" "Elegant serif"}} has-serif-body{{/match}}'>
<div class="site">

    <header id="gh-head" class="gh-head gh-outer">
        <div class="gh-head-inner gh-inner">
            <div class="gh-head-brand">
                <div class="gh-head-brand-wrapper">
                    <a class="gh-head-logo" href="{{@site.url}}">
                        {{#if @site.logo}}
                            <img src="{{@site.logo}}" alt="{{@site.title}}">
                            {{#if @custom.white_logo_for_dark_mode}}
                                <img src="{{img_url @custom.white_logo_for_dark_mode}}" alt="{{@site.title}}">
                            {{/if}}
                        {{else}}
                            {{@site.title}}
                        {{/if}}
                    </a>
                </div>
                <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search>{{> "icons/search"}}</button>
                <button class="gh-burger" aria-label="Toggle menu"></button>
            </div>

            <nav class="gh-head-menu">
                {{navigation}}
                {{#unless @site.members_enabled}}
                    {{#match @custom.navigation_layout "Stacked"}}
                        <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search>{{> "icons/search"}}</button>
                    {{/match}}
                {{/unless}}
            </nav>

            <div class="gh-head-actions">
                {{#unless @site.members_enabled}}
                    {{^match @custom.navigation_layout "Stacked"}}
                        <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search>{{> "icons/search"}}</button>
                    {{/match}}
                {{else}}
                    <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search>{{> "icons/search"}}</button>
                    <div class="gh-head-members">
                        {{#unless @member}}
                            {{#unless @site.members_invite_only}}
                                <a class="gh-head-link" href="#/portal/signin" data-portal="signin">Sign in</a>
                                <a class="gh-head-btn gh-btn gh-primary-btn" href="#/portal/signup" data-portal="signup">Subscribe</a>
                            {{else}}
                                <a class="gh-head-btn gh-btn gh-primary-btn" href="#/portal/signin" data-portal="signin">Sign in</a>
                            {{/unless}}
                        {{else}}
                            <a class="gh-head-btn gh-btn gh-primary-btn" href="#/portal/account" data-portal="account">Account</a>
                        {{/unless}}
                    </div>
                {{/unless}}
            </div>
        </div>
    </header>

    {{#is "home"}}
        {{#if @custom.show_frontpage_about}}
            {{> "about-me"}}
        {{else}}
            {{> "cover"}}
        {{/if}}

        {{#if @custom.show_featured_posts}}
            {{> "featured-posts"}}
        {{/if}}
    {{/is}}

    <div class="site-content">
        {{{body}}}
    </div>

    <footer class="gh-foot gh-outer">
        <div class="gh-foot-inner gh-inner">
            <div class="gh-copyright">
                My curiosity runs on borrowed time and the illusion of control.
            </div>
        </div>
    </footer>

</div>

{{#is "post, page"}}
    {{> "pswp"}}
{{/is}}

<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src='{{asset "built/main.min.js"}}'></script>

{{ghost_foot}}

</body>
</html>